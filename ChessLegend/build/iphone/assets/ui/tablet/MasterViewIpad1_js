function MasterView(e,t){var s=Ti.UI.createView({width:e,height:t,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/remotecontrol.png",borderWidth:0,borderColor:"transparent"}),i=[];for(li=0;15>li;li++){var a=Ti.UI.createTableViewRow({backgroundColor:"#cc6666",title:" ",font:{fontSize:15,fontWeight:"bold",fontFamily:"Arial"},color:"black"});i.push(a)}i[6].title=" ... Loading ...";var r=Ti.UI.createTableView({data:i,left:3,top:80,width:e-6,height:t-100,rowHeight:50,backgroundColor:"transparent"});s.add(r),s.table=r,r.addEventListener("click",function(e){Ti.API.log("master table click"+e+e.row.title+e.row.game),s.fireEvent("opengame",{name:e.row.title,game:e.row.game})}),s.addEventListener("display",function(){s.table&&(s.remove(s.table),s.table=null);var e=getTableData();r.setData(e),s.add(r),s.table=r});var o=Ti.UI.createButton({top:30,left:20,width:90,height:48,backgroundImage:null});o.addEventListener("click",function(){s.fireEvent("backToList")});var n=Ti.UI.createButton({top:30,left:160,width:90,height:48,backgroundImage:null});return n.addEventListener("click",function(){s.fireEvent("showIntro")}),s.add(o),s.add(n),s}function getRowData(e){var t=myChess.Games[myChess.PlayerIndex].games[e],s=Ti.UI.createTableViewRow({backgroundImage:Ti.Filesystem.resourcesDirectory+"images/selection.png",borderWidth:0,height:40,game:e}),i=Ti.UI.createLabel({color:"#001122",font:{fontSize:11,fontWeight:"normal",fontFamily:"Arial"},left:20,top:32,height:12,width:240,backgroundColor:"transparent",text:t.Site+",  "+t.Date.substr(0,4),textAlign:"center"});s.add(i);var a=13;"android"==Titanium.Platform.name&&(a=12);var r=Ti.UI.createLabel({color:"#112266",font:{fontSize:a,fontWeight:"board",fontFamily:"Arial"},left:23,top:5,height:32,width:120,backgroundColor:"transparent",text:t.White.length<16?t.White:t.White.substr(0,15)});s.add(r);var o=Ti.UI.createLabel({color:"#112266",font:{fontSize:a,fontWeight:"board",fontFamily:"Arial"},left:160,top:5,height:32,width:120,backgroundColor:"transparent",text:t.Black.length<16?t.Black:t.Black.substr(0,15)});s.add(o);var n=Ti.UI.createLabel({color:"black",font:{fontSize:15,fontWeight:"bold",fontFamily:"Arial"},left:130,top:12,height:20,width:40,backgroundColor:"transparent",text:t.Result});return s.add(n),s}function getTableData(){var e=new Array;for(i=0;i<myChess.Games[myChess.PlayerIndex].games.length;i++){var t=getRowData(i);e.push(t)}return e}module.exports=MasterView;