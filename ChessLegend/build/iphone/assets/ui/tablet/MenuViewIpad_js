function MenuView(e,t){var i=Ti.UI.createView({width:e,height:t,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/pmbackb.png"}),s=Ti.UI.createButton({width:480,top:10,bottom:110,left:32,backgroundImage:null});s.addEventListener("click",function(e){e.idx=0,i.fireEvent("itemSelected",e)});var a=Ti.UI.createButton({width:480,top:10,bottom:110,right:32,backgroundImage:null});a.addEventListener("click",function(e){e.idx=1,i.fireEvent("itemSelected",e)}),i.add(s),i.add(a);var r=Ti.UI.createView({backgroundImage:Ti.Filesystem.resourcesDirectory+"images/tabbackipad.png",height:98,bottom:8});i.add(r);var o=Ti.UI.createButton({bottom:0,right:0,width:280,height:110,backgroundImage:null});o.addEventListener("click",function(){if(Titanium.Network.networkType==Titanium.Network.NETWORK_NONE){var e=Titanium.UI.createAlertDialog({title:"WARNING!",message:"Thank you for your support. But your device is not online now, please try later.",buttonNames:["OK"]});e.show()}else myChess.ccadView.top=30,myChess.ccadView.movie.play()}),i.add(o);var n=Ti.UI.createButton({bottom:0,left:0,width:300,height:110,backgroundImage:null});n.addEventListener("click",function(){if(myChess.appWin.vv.button.backgroundImage=Ti.Filesystem.resourcesDirectory+"images/doneButton.png",Titanium.Network.networkType!=Titanium.Network.NETWORK_NONE){VideoList=require("/ui/common/VideoListView");var e=new VideoList(100,50,600,30,560,480,100,10);myChess.appWin.vv.add(e),myChess.appWin.vcontent=e}else{var t=Titanium.UI.createLabel({text:"WARNING! Your device is not online now, please try later.",color:"white",top:300,left:680,right:10});myChess.appWin.vv.add(t),myChess.appWin.vmsg=t}myChess.appWin.fireEvent("showHead")}),i.add(n);var h=Ti.UI.createView({backgroundImage:Ti.Filesystem.resourcesDirectory+"images/chesschampionadback.png",height:t-60,width:4*e/5,top:-1e3}),c="/mydata/video/ccgc.m4v",d=Titanium.Media.createVideoPlayer({url:c,backgroundColor:"#000",mediaControlStyle:Titanium.Media.VIDEO_CONTROL_DEFAULT,scalingMode:Titanium.Media.VIDEO_SCALING_MODE_FILL,width:4*e/5*2/3,height:320,left:30,top:160,autoplay:!1,repeatMode:!0});d.addEventListener("playbackstate",function(e){Ti.API.info("playbackstate changed:"+e.playbackState+"   "+e.source),0==e.playbackState&&(e.source.opacity=0)}),h.add(d),h.movie=d;var l=Ti.UI.createButton({top:250,right:10,width:180,height:80,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/getButton.png"});l.addEventListener("click",function(){if(Titanium.Network.networkType==Titanium.Network.NETWORK_NONE){var e=Titanium.UI.createAlertDialog({title:"WARNING!",message:"Thank you for your support. But your device is not online now, please try later.",buttonNames:["OK"]});e.show()}else Ti.Platform.openURL("http://itunes.apple.com/app/id618359987")}),h.add(l);var m=Ti.UI.createButton({top:360,right:10,width:150,height:75,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/noThanksButton.png"});m.addEventListener("click",function(){myChess.ccadView.movie.stop(),myChess.ccadView.top=-1e3}),h.add(m);var u=Ti.UI.createImageView({top:20,height:100,width:500});h.add(u);var b=1;setInterval(function(){b=b%5+1,u.image=Ti.Filesystem.resourcesDirectory+"mydata/quote1/q"+b+".png"},2700),i.add(h),myChess.ccadView=h;var f=Ti.UI.createView({width:360,height:550,top:-1e3,right:100,backgroundColor:"#6699ff"}),g=Ti.UI.createLabel({text:"Favorite Games",top:0,backgroundColor:"#0066cc"});f.add(g);var p=Ti.UI.createButton({right:0,top:0,width:30,height:20,borderWidth:2,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/hidebutton.png"});p.addEventListener("click",function(){myChess.Favview.top=-1e3}),f.add(p),f.refresh=function(){this.table;this.table&&this.remove(this.table),this.nogame&&this.remove(this.nogame);var e=myChess.JDB.getTableData();if(e&&e.length>0){var t=Ti.UI.createTableView({data:e,left:1,top:30,height:510,backgroundColor:"transparent",separatorColor:"transparent"});t.addEventListener("click",function(e){if("delbutton"!=e.source.clickName){var t=e.row.Gid;myChess.PlayerIndex=0,myChess.chessObj.gameIndex=parseInt(t,10)-1,myChess.Games[myChess.PlayerIndex].games[myChess.chessObj.gameIndex]?(myChess.Favview.top=-1e3,myChess.refresh=!0,myChess.appWin.master.fireEvent("display"),myChess.appWin.master.fireEvent("opengame",{name:"",game:myChess.chessObj.gameIndex}),myChess.appWin.fireEvent("hideMenu")):alert("Sorry, the game is not available.")}}),this.add(t),this.table=t}else{var i=Ti.UI.createLabel({text:"No favorite game now.",top:50,backgroundColor:"transparent"});this.add(i),this.nogame=i}};var y=Ti.UI.createButton({top:10,right:3,width:100,height:80,backgroundImage:null});return y.addEventListener("click",function(){f.top=5,f.refresh()}),i.add(y),i.add(f),myChess.Favview=f,i}function getMenuItem(e){var t=Ti.UI.createView({width:1*myChess.width/4,height:1*myChess.height/4}),i=Ti.UI.createView({top:0,left:0,width:1*myChess.width/10,height:1*myChess.height/4}),s=Ti.Filesystem.resourcesDirectory+"mydata/pic/"+e[6]+".jpg",a=Ti.UI.createImageView({image:s,width:2*myChess.width/25,height:1*myChess.height/6,top:1,left:1});i.add(a);var r=Ti.UI.createLabel({color:"#000000",font:{fontSize:15,fontWeight:"bold",fontFamily:"Arial"},left:1,top:1*myChess.height/6+3,height:1*myChess.height/12,width:2*myChess.width/25,text:e[0]+",  "+e[2]+" | "+e[1]});i.add(r);var o=Ti.UI.createView({width:3*myChess.width/20,height:1*myChess.width/4,left:1*myChess.width/10,top:0}),n=12;"android"==Titanium.Platform.name&&(n=11);var h=Ti.UI.createLabel({color:"blue",font:{fontSize:n,fontWeight:"normal",fontFamily:"Arial"},left:1,top:1,height:1*myChess.height/4,width:3*myChess.width/20,text:e[4]});o.add(h),t.add(i),t.add(o);var c=Ti.UI.createTableViewRow();return c.add(t),t}function createMsgForm(){var e=myChess.boardSize,t=Ti.UI.createView({top:-1500,width:e,height:3*e/4,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/fb2.png"}),i=Ti.UI.createTextField({editable:!0,width:e-130,height:50,top:38,left:60,hintText:"  Name",font:{fontSize:20,fontFamily:"Marker Felt",fontWeight:"bold"},color:"#000",textAlign:"left",borderWidth:2,borderColor:"#bbb",borderRadius:5,suppressReturn:!1,backgroundColor:"white"});t.add(i),t.name=i;var s=Titanium.UI.createTextArea({editable:!0,value:"Thank you for your message",height:220,width:e-130,top:100,left:60,font:{fontSize:20,fontFamily:"Marker Felt",fontWeight:"bold"},color:"#999",textAlign:"left",borderWidth:2,borderColor:"#bbb",borderRadius:5,suppressReturn:!1,backgroundColor:"white"});s._hintText=s.value,s.addEventListener("focus",function(e){e.source.value==e.source._hintText&&(e.source.value=""),this.color="#000"}),s.addEventListener("blur",function(e){""==e.source.value?(e.source.value=e.source._hintText,this.color="#999"):this.color="#000"}),t.add(s),t.msg=s;var a=Titanium.UI.createButton({title:"submit",right:150,top:330});a.addEventListener("click",function(){Ti.API.info("submit"),transmit(i.value,s.value),i.value="",i.hintText="  Name",i.blur(),s.value="Thank you for your message",s.blur(),t.top=-1500}),t.add(a);var r=Titanium.UI.createButton({title:"cancel",left:150,top:330});return r.addEventListener("click",function(){Ti.API.info("cancel"),i.blur(),s.blur(),t.top=-1500}),t.add(r),t}function createFeedbackForm(){var e=myChess.boardSize,t=Ti.UI.createView({top:-1500,width:e,height:e,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/fb1.png",opacity:1}),i=Titanium.UI.createButton({right:70,top:110,width:430,height:132,backgroundImage:null});i.addEventListener("click",function(){t.top=-1500,Ti.Platform.openURL("itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=618359987&onlyLatestVersion=true&pageNumber=0&sortOrdering=1&type=Purple+Software")}),t.add(i);var s=Titanium.UI.createButton({right:70,top:250,width:430,height:128,backgroundImage:null});s.addEventListener("click",function(){t.top=-1500,myChess.form.msgForm.top=20}),t.add(s);var a=Titanium.UI.createButton({right:70,top:388,width:430,height:60,backgroundImage:null});return a.addEventListener("click",function(){Ti.API.info("cancel"),t.top=-1500}),t.add(a),t}function transmit(e,t){if(t&&0!=t.trim().length&&"Thank you for your message"!=t.trim()){var i=Titanium.Network.createHTTPClient();i.open("POST","http://sunnyglobetech.com/products/index.php?option=com_content&view=article&id=6"),i.onload=function(){"200"==this.status},i.onerror=function(){},i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var s={name:e,message:t,product:"ChessChampion-iPad"};i.send(s)}}module.exports=MenuView;