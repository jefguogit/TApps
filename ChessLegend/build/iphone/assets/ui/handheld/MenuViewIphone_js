function MenuView(e,t){var e=myChess.width,t=myChess.height,s=Ti.UI.createView({width:myChess.width,height:myChess.height-10,top:0,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/pmback.png"}),i=(myChess.Players.length,Ti.UI.createButton({width:145,height:t/3,top:60,left:10,backgroundImage:null}));i.addEventListener("click",function(e){e.idx=0,myChess.tabGroup.fireEvent("showIntro",e)});var a=Ti.UI.createButton({width:145,height:t/3,top:60,right:10,backgroundImage:null});a.addEventListener("click",function(e){e.idx=1,myChess.tabGroup.fireEvent("showIntro",e)});var r=Ti.UI.createButton({width:270,height:t/4,bottom:t/5,left:20,backgroundImage:null});r.addEventListener("click",function(){myChess.tabGroup.fireEvent("showMaster")}),s.add(i),s.add(a),s.add(r);var o=Ti.UI.createView({backgroundImage:Ti.Filesystem.resourcesDirectory+"images/tabback.png",height:50,bottom:8});s.add(o);var n=Ti.UI.createButton({bottom:0,left:0,width:148,height:68,backgroundImage:null});n.addEventListener("click",function(){if(Ti.API.info("video button click"),myChess.tabGroup.vv.backgroundImage=Ti.Filesystem.resourcesDirectory+"images/videoback.png",myChess.tabGroup.fireEvent("showHead"),Titanium.Network.networkType!=Titanium.Network.NETWORK_NONE){VideoList=require("/ui/common/VideoListView");var e=new VideoList(180,20,10,10,270,120,50,25);myChess.tabGroup.vv.add(e),myChess.tabGroup.vcontent=e}else{var t=Titanium.UI.createLabel({text:"Your device is not online now, please try later.",color:"white",top:180,width:270});myChess.tabGroup.vv.add(t),myChess.tabGroup.vmsg=t}}),s.add(n);var h=Ti.UI.createButton({bottom:0,left:148,width:182,height:68,backgroundImage:null});h.addEventListener("click",function(){if(Titanium.Network.networkType==Titanium.Network.NETWORK_NONE){var e=Titanium.UI.createAlertDialog({title:"WARNING!",message:"Thank you for your support. But your device is not online now, please try later.",buttonNames:["OK"]});e.show()}else myChess.ccadView.top=t/6,myChess.ccadView.movie.play()}),s.add(h);var c=Ti.UI.createView({backgroundImage:Ti.Filesystem.resourcesDirectory+"images/chesschampionadback.png",height:e,width:e,top:-1e3}),d="/mydata/video/ccgc.m4v",b=Titanium.Media.createVideoPlayer({url:d,backgroundColor:"#000",mediaControlStyle:Titanium.Media.VIDEO_CONTROL_DEFAULT,scalingMode:Titanium.Media.VIDEO_SCALING_MODE_FILL,width:2*e/3,height:2*e/5,left:10,top:90,autoplay:!1,repeatMode:!0});b.addEventListener("playbackstate",function(e){Ti.API.info("playbackstate changed:"+e.playbackState+"   "+e.source),0==e.playbackState&&(e.source.opacity=0)}),c.add(b),c.movie=b;var m=Ti.UI.createButton({top:110,right:3,width:90,height:40,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/getButton.png"});m.addEventListener("click",function(){if(Titanium.Network.networkType==Titanium.Network.NETWORK_NONE){var e=Titanium.UI.createAlertDialog({title:"WARNING!",message:"Thank you for your support. But your device is not online now, please try later.",buttonNames:["OK"]});e.show()}else Ti.Platform.openURL("http://itunes.apple.com/app/id618359987")}),c.add(m);var f=Ti.UI.createButton({top:170,right:3,width:70,height:35,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/noThanksButton.png"});f.addEventListener("click",function(){myChess.ccadView.movie.stop(),myChess.ccadView.top=-1e3}),c.add(f);var u=Ti.UI.createImageView({top:2,height:72,width:e});c.add(u);var l=1;setInterval(function(){l=l%20+1,u.image=Ti.Filesystem.resourcesDirectory+"mydata/quote1/q"+l+".png"},2700),s.add(c),myChess.ccadView=c;var p=Ti.UI.createView({width:myChess.width,height:400,top:-500,left:0,backgroundColor:"#6699ff"}),g=Ti.UI.createLabel({text:"Favorite Games",top:0,backgroundColor:"#0066cc"});p.add(g);var y=Ti.UI.createButton({right:0,top:0,width:30,height:20,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/hidebutton.png"});y.addEventListener("click",function(){Ti.API.info("hide button click "+myChess.Favview),myChess.Favview.top=-500}),p.add(y),p.refresh=function(){this.table;this.table&&this.remove(this.table),this.nogame&&this.remove(this.nogame);var e=myChess.JDB.getTableData();if(e&&e.length>0){var t=Ti.UI.createTableView({data:e,left:1,top:30,height:350,backgroundColor:"transparent",separatorColor:"transparent"});t.addEventListener("click",function(e){if("delbutton"!=e.source.clickName){var t=e.row.Gid;myChess.PlayerIndex=0,myChess.chessObj.gameIndex=parseInt(t,10)-1,myChess.Games[myChess.PlayerIndex].games[myChess.chessObj.gameIndex]?(myChess.Favview.top=-500,myChess.refresh=!0,myChess.tabGroup.fireEvent("showGame")):alert("Sorry, the game is not available.")}}),this.add(t),this.table=t}else{var s=Ti.UI.createLabel({text:"No favorite game now.",top:50,backgroundColor:"transparent"});this.add(s),this.nogame=s}};var w=Ti.UI.createButton({top:2,right:0,width:50,height:50,backgroundImage:null});return w.addEventListener("click",function(){p.top=5,p.refresh()}),s.add(w),s.add(p),myChess.Favview=p,s}function goPlayer(e,t){e.fireEvent("itemSelected",{name:player[0],game:t})}function getMenuData(e){var t=Ti.UI.createTableViewRow();t.selectedBackgroundColor="#fff",t.className="datarow",t.clickName="row",t.backgroundImage="images/playerback.png",t.height=120,t.name=e[0];var s=Ti.Filesystem.resourcesDirectory+e[6],i=Ti.UI.createImageView({image:s,width:"auto",height:100,top:6,left:20});t.add(i);var a=Ti.UI.createLabel({color:"#ffffff",font:{fontSize:18,fontWeight:"bold",fontFamily:"Arial"},left:200,top:2,height:30,width:"auto",text:e[0]+",  "+e[2]+" | "+e[1]});t.add(a);var r=16;"android"==Titanium.Platform.name&&(r=14);var o=Ti.UI.createLabel({color:"blue",font:{fontSize:r,fontWeight:"normal",fontFamily:"Arial"},left:180,top:31,height:"auto",width:"auto",clickName:"subtitle",text:e[4]});return t.add(o),t}function getMenuItem(e){var t=Ti.UI.createView({width:1*myChess.width/4,height:1*myChess.height/4}),s=Ti.UI.createView({top:0,left:0,width:1*myChess.width/10,height:1*myChess.height/4}),i=Ti.Filesystem.resourcesDirectory+"mydata/pic/"+e[6]+".jpg",a=Ti.UI.createImageView({image:i,width:2*myChess.width/25,height:1*myChess.height/6,top:1,left:1});s.add(a);var r=Ti.UI.createLabel({color:"#000000",font:{fontSize:15,fontWeight:"bold",fontFamily:"Arial"},left:1,top:1*myChess.height/6+3,height:1*myChess.height/12,width:2*myChess.width/25,text:e[0]+",  "+e[2]+" | "+e[1]});s.add(r);var o=Ti.UI.createView({width:3*myChess.width/20,height:1*myChess.width/4,left:1*myChess.width/10,top:0}),n=12;"android"==Titanium.Platform.name&&(n=11);var h=Ti.UI.createLabel({color:"blue",font:{fontSize:n,fontWeight:"normal",fontFamily:"Arial"},left:1,top:1,height:1*myChess.height/4,width:3*myChess.width/20,text:e[4]});o.add(h),t.add(s),t.add(o);var c=Ti.UI.createTableViewRow();return c.add(t),t}function createMsgForm(){var e=myChess.boardSize-10,t=Ti.UI.createView({left:5,bottom:-800,width:e,height:5*e/6,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/fb2.png"}),s=Ti.UI.createTextField({editable:!0,width:e-72,height:30,top:20,left:30,hintText:"  Name",font:{fontSize:16,fontFamily:"Marker Felt",fontWeight:"bold"},color:"#000",textAlign:"left",borderWidth:2,borderColor:"#bbb",borderRadius:5,suppressReturn:!1,backgroundColor:"white"});t.add(s),t.name=s;var i=Titanium.UI.createTextArea({editable:!0,value:"Thank you for your message",height:120,width:e-72,top:60,left:30,font:{fontSize:16,fontFamily:"Marker Felt",fontWeight:"bold"},color:"#999",textAlign:"left",borderWidth:2,borderColor:"#bbb",borderRadius:5,suppressReturn:!1,backgroundColor:"white"});i._hintText=i.value,i.addEventListener("focus",function(e){e.source.value==e.source._hintText&&(e.source.value=""),this.color="#000"}),i.addEventListener("blur",function(e){""==e.source.value?(e.source.value=e.source._hintText,this.color="#999"):this.color="#000"}),t.add(i),t.msg=i;var a=Titanium.UI.createButton({title:"submit",right:50,top:190});a.addEventListener("click",function(){Ti.API.info("submit"),transmit(s.value,i.value),s.value="",s.hintText="  Name",s.blur(),i.value="Thank you for your message",i.blur(),t.bottom=-800}),t.add(a);var r=Titanium.UI.createButton({title:"cancel",left:50,top:190});return r.addEventListener("click",function(){Ti.API.info("cancel"),s.blur(),i.blur(),t.bottom=-800}),t.add(r),t}function createFeedbackForm(){var e=myChess.boardSize-10,t=Ti.UI.createView({left:5,bottom:-800,width:e,height:3*e/2,backgroundImage:Ti.Filesystem.resourcesDirectory+"images/fb1.png",opacity:1}),s=Titanium.UI.createButton({right:38,top:93,width:245,height:110,backgroundImage:null});s.addEventListener("click",function(){t.bottom=-800,Ti.Platform.openURL("itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=618359987&onlyLatestVersion=true&pageNumber=0&sortOrdering=1&type=Purple+Software")}),t.add(s);var i=Titanium.UI.createButton({right:38,top:215,width:245,height:102,backgroundImage:null});i.addEventListener("click",function(){t.bottom=-800,myChess.form.msgForm.bottom=200}),t.add(i);var a=Titanium.UI.createButton({right:38,top:325,width:245,height:50,backgroundImage:null});return a.addEventListener("click",function(){Ti.API.info("cancel"),t.bottom=-800}),t.add(a),t}function transmit(e,t){if(t&&0!=t.trim().length&&"Thank you for your message"!=t.trim()){var s=Titanium.Network.createHTTPClient();s.open("POST","http://sunnyglobetech.com/products/index.php?option=com_content&view=article&id=6"),s.onload=function(){"200"==this.status},s.onerror=function(){},s.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var i={name:e,message:t,product:"ChessChampion-iPhone"};s.send(i)}}module.exports=MenuView;