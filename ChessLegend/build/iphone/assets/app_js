function loadPlayers(){var e=null,s="mydata/chess/Players.json",i=Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory,s);if(i.exists()){var a="android"===Ti.Platform.osname?""+i.read():i.read();e=JSON.parse(a)}else Ti.API.info("players info not existed:");return e}function loadGames(e){var s=null;e="mydata/chess/"+e+".json";var i=Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory,e);if(i.exists()){var a="android"===Ti.Platform.osname?""+i.read():i.read();s=JSON.parse(a)}return s}Ti.version<1.8&&alert("Sorry - this application template requires Titanium Mobile SDK 1.8 or later"),Titanium.App.addEventListener("resume",function(){});var myChess={};myChess.f={},myChess.form={},myChess.sound={},0==myChess.isSound,myChess.flip=!1;var JDBClass=require("ui/common/JDB"),JDB=new JDBClass;myChess.JDB=JDB,function(){Titanium.Media.audioSessionMode=Ti.Media.AUDIO_SESSION_MODE_AMBIENT;myChess.sound.play=Titanium.Media.createSound({url:"/sound/chesspiece.mp3"});var e=Ti.Platform.osname,s=(Ti.Platform.version,Ti.Platform.displayCaps.platformHeight),i=Ti.Platform.displayCaps.platformWidth;myChess.width=i,myChess.height=s,myChess.refresh=!1;var a=loadPlayers();if(a){myChess.Players=a.players;{myChess.Players.length}myChess.Games=new Array(1),myChess.Games[0]=loadGames("Morphy"),Ti.API.info("game:"+myChess.Games[0])}myChess.PlayerIndex=0;var r="ipad"===e||"android"===e&&(i>899||s>899);if(r){if(myChess.width<myChess.height){var h=myChess.width;myChess.width=myChess.height,myChess.height=h}var m=6*myChess.width/11;myChess.boardSize=9*Math.floor(m/9),ChessObj=require("/ui/common/ChessObject"),new ChessObj;var t=require("ui/tablet/ApplicationWindow");(new t).open({fullscreen:!1})}else{if(myChess.height<myChess.width){var h=myChess.height;myChess.height=myChess.width,myChess.width=h}m=myChess.width,myChess.boardSize=9*Math.floor(m/9)+9,ChessObj=require("/ui/common/ChessObject"),new ChessObj;var o=require("ui/handheld/ApplicationTabGroup");myChess.tabGroup=new o,myChess.tabGroup.open()}}();